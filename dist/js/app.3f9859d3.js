(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],o[i]&&p.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},3773:function(e,t,s){},3953:function(e,t,s){},"455f":function(e,t,s){"use strict";var n=s("3953"),o=s.n(n);o.a},5197:function(e,t,s){"use strict";var n=s("ea97"),o=s.n(n);o.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),o=s("2f62"),r=s("ecee"),i=s("ad3d"),a=s("c074"),c=(s("ac6a"),s("bc3a")),u=s.n(c);n["a"].use(o["a"]);var l=new o["a"].Store({state:{editor:{sessions:{},sessionList:[],nodes:[],knownPermissions:[],currentSession:null,modal:{type:null,object:null}}},getters:{sessionSet:function(e){return e.editor.sessionList.map(function(t){return e.editor.sessions[t]})},currentSession:function(e){return e.editor.sessions[e.editor.currentSession]},currentNodes:function(e){return e.editor.nodes.filter(function(t){return t.sessionId==e.editor.currentSession})}},mutations:{setKnownPermissions:function(e,t){e.editor.knownPermissions=t},addEditorSession:function(e,t){e.editor.sessions[t.id]=t,e.editor.sessionList.push(t.id)},addEditorNode:function(e,t){e.editor.nodes.push(t)},setCurrentSession:function(e,t){e.editor.currentSession=t},setModal:function(e,t){var s=t.type,n=t.object;e.editor.modal.type=s||null,e.editor.modal.object=n||null},toggleNodeValue:function(e,t){t.value=!t.value}},actions:{getEditorData:function(e,t){var s=e.state,n=e.commit;u.a.get("https://bytebin.lucko.me/".concat(t)).then(function(e){e.data.sessions.forEach(function(e,t){e.id=t+1,e.nodes.forEach(function(t,o){t.id=s.editor.nodes.length+o+1,t.sessionId=e.id,n("addEditorNode",t)}),n("addEditorSession",{id:e.id,who:e.who})}),n("setKnownPermissions",e.data.knownPermissions)})},changeCurrentSession:function(e,t){var s=e.commit;s("setCurrentSession",t)},addNewGroup:function(e,t){var s=e.state;e.commit,s.editor.sessionList.length}}}),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),s("footer",[s("div",{staticClass:"footer"},[s("a",{staticClass:"github-corner",attrs:{href:"https://github.com/lucko/LuckPermsWeb"}},[s("svg",{attrs:{width:"60",height:"60",viewBox:"0 0 250 250"}},[s("path",{attrs:{d:"M0 0l115 115h15l12 27 108 108v-250z"}}),s("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3 109c-14.5-9.3-9.3-19.4-9.3-19.4 3-6.9 1.5-11 1.5-11-1.3-6.6 2.9-2.3 2.9-2.3 3.9 4.6 2.1 11 2.1 11-2.6 10.3 5.1 14.6 8.9 15.9"}}),s("path",{staticClass:"octo-body",attrs:{d:"M115 115c-.1.1 3.7 1.5 4.8.4l13.9-13.8c3.2-2.4 6.2-3.2 8.5-3-8.4-10.6-14.7-24.2 1.6-40.6 4.7-4.6 10.2-6.8 15.9-7 .6-1.6 3.5-7.4 11.7-10.9 0 0 4.7 2.4 7.4 16.1 4.3 2.4 8.4 5.6 12.1 9.2 3.6 3.6 6.8 7.8 9.2 12.2 13.7 2.6 16.2 7.3 16.2 7.3-3.6 8.2-9.4 11.1-10.9 11.7-.3 5.8-2.4 11.2-7.1 15.9-16.4 16.4-30 10-40.6 1.6.2 2.8-1 6.8-5 10.8l-11.7 11.6c-1.2 1.2.6 5.4.8 5.3z"}})])]),s("ul",[e._m(0),s("li",[s("a",{attrs:{href:"https://github.com/lucko/LuckPermsWeb/blob/master/LICENSE.txt",target:"_blank"}},[e._v("\n          Copyright Â© 2017-"+e._s((new Date).getFullYear().toString())+" LuckPerms contributors\n          ")])])])])])],1)},p=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{attrs:{href:"https://github.com/lucko",target:"_blank"}},[e._v("lucko")]),e._v("\n          /\n          "),s("a",{attrs:{href:"https://github.com/lucko/LuckPermsWeb",target:"_blank"}},[e._v("LuckPermsWeb")])])}],f=(s("5c0b"),s("2877")),m={},v=Object(f["a"])(m,d,p,!1,null,null,null),h=v.exports,g=s("8c4f"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},b=[],w={name:"Home"},x=w,y=Object(f["a"])(x,_,b,!1,null,null,null),C=y.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"editor"},[e.sessionId?s("div",{staticClass:"editor-container"},[e.sessions?s("div",{staticClass:"editor-wrap"},[s("nav",[s("div",{staticClass:"groups"},[s("h2",[e._v("\n            Groups\n            "),s("font-awesome",{attrs:{icon:"plus-circle"},on:{click:e.createGroup}})],1),s("ul",e._l(e.groups,function(t){return s("li",{key:t.id,class:{active:e.currentSession==t},on:{click:function(s){return e.changeCurrentSession(t.id)}}},[e._v("\n              "+e._s(t.who.friendly)+" "),e.displayGroupName(t)?s("span",[e._v(e._s(e.displayGroupName(t)))]):e._e()])}),0)]),s("div",{staticClass:"users"},[s("h2",[e._v("Users")]),s("ul",e._l(e.users,function(t){return s("li",{key:t.id,class:{active:e.currentSession==t},on:{click:function(s){return e.changeCurrentSession(t.id)}}},[s("img",{attrs:{src:"https://minotar.net/helm/"+t.who.uuid+"/100.png"}}),e._v(" "+e._s(t.who.friendly)+"\n            ")])}),0)])]),s("div",{staticClass:"editor-main"},[s("nav",[e._m(2),s("div",{staticClass:"buttons"},[s("font-awesome",{attrs:{icon:"undo"}}),s("font-awesome",{attrs:{icon:"redo"}}),s("font-awesome",{attrs:{icon:"save"}})],1)]),s("transition",{attrs:{name:"fade",mode:"in-out"}},[e.currentSession?e._e():s("div",{staticClass:"editor-no-session"},[s("h1",[e._v("Choose a group or user from the side bar")])])]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.currentSession?s("div",{key:"session_"+e.currentSession.who.id,staticClass:"editor-session"},[s("Header",{attrs:{session:e.currentSession,sessionData:e.currentSessionData}}),s("Meta",{attrs:{session:e.currentSession,sessionData:e.currentSessionData}}),s("NodeList",{attrs:{nodes:e.currentNodes}})],1):e._e()])],1)]):s("div",{staticClass:"editor-intro"},[e._m(1)])]):s("div",{staticClass:"editor-intro"},[e._m(0)]),s("transition",{attrs:{name:"fade"}},[e.modal.type?s("Modal",{attrs:{modal:e.modal}}):e._e()],1)],1)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{alt:"LuckPerms logo",src:s("cf05")}}),n("div",{staticClass:"text"},[n("h1",[e._v("LuckPerms")]),n("p",[e._v("Web Permissions Editor")]),n("p",[e._v("To start a new editor session, use one of the following commands:")]),n("ul",[n("li",[n("code",[e._v("/lp editor")])]),n("li",[n("code",[e._v("/lp user <user> editor")])]),n("li",[n("code",[e._v("/lp group <group> editor")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",[e._v("Loading data...")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{attrs:{alt:"LuckPerms logo",src:s("cf05")}}),e._v("\n            Web Permissions Editor\n          ")])}],k=(s("28a5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"editor-header"},[s("h1",[s("small",[e._v(e._s(e.sessionData.type)+":")]),s("code",[e._v(e._s(e.session.who.friendly))]),"group"==e.sessionData.type&&e.displayGroupName(e.session)?s("span",[e._v(e._s(e.displayGroupName(e.session)))]):e._e(),"user"==e.sessionData.type?s("img",{attrs:{src:"https://minotar.net/helm/"+e.session.who.uuid+"/100.png"}}):e._e()])])}),P=[],O={name:"Header",props:{session:Object,sessionData:Object},methods:{displayGroupName:function(e){var t=e.who.friendly,s=e.who.id.split("/").pop();return t!=s?s:null}}},j=O,E=(s("5197"),Object(f["a"])(j,k,P,!1,null,null,null)),$=E.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"editor-meta"},["group"==e.sessionData.type?s("div",{staticClass:"meta-weight"},[s("strong",[e._v("Weight: ")]),s("code",[e._v(e._s(e.formatWeight(e.sessionData.weight)))])]):e._e(),e.sessionData.parents.length>0?s("div",{staticClass:"meta-parents"},[s("strong",[e._v("Parent groups:")]),s("ul",e._l(e.sessionData.parents,function(t){return s("li",{on:{click:function(s){return e.$emit("changeCurrentSession",t)}}},[s("code",[e._v(e._s(e.formatParent(t)))])])}),0)]):e._e()])},D=[],L={name:"Meta",props:{session:Object,sessionData:Object},methods:{formatWeight:function(e){return 0==e.length?"N/A":1==e.length?e[0].permission.split(".").pop():"Multiple"},formatParent:function(e){var t=e.permission.split(".").pop();return e.server||e.world||e.expiry||e.context?t+" *":t}}},G=L,W=(s("b9f5"),Object(f["a"])(G,M,D,!1,null,null,null)),I=W.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"node-list"},[s("h2",[e._v("Permission nodes "),s("span",[e._v("("+e._s(e.nodes.length)+")")])]),s("div",{staticClass:"node-list-header"},[s("span",{class:{active:"permission"==e.sort.method},on:{click:function(t){return e.changeSort("permission")}}},[e._v("\n      Permission\n      "),"permission"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1),s("span",{class:{active:"value"==e.sort.method},on:{click:function(t){return e.changeSort("value")}}},[e._v("\n      Value\n      "),"value"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1),s("span",{class:{active:"expiry"==e.sort.method},on:{click:function(t){return e.changeSort("expiry")}}},[e._v("\n      Expiry\n      "),"expiry"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1),s("span",{class:{active:"server"==e.sort.method},on:{click:function(t){return e.changeSort("server")}}},[e._v("\n      Server\n      "),"server"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1),s("span",{class:{active:"world"==e.sort.method},on:{click:function(t){return e.changeSort("world")}}},[e._v("\n      World\n      "),"world"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1),s("span",{class:{active:"contexts"==e.sort.method},on:{click:function(t){return e.changeSort("contexts")}}},[e._v("\n      Contexts\n      "),"contexts"==e.sort.method?s("font-awesome",{class:{reverse:!e.sort.desc},attrs:{icon:"chevron-circle-down"}}):e._e()],1)]),s("ul",e._l(e.sortedNodes,function(e,t){return s("Node",{key:"node_"+e.id,attrs:{node:e}})}),1)])},A=[],H=(s("55dd"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"permission-node"},[s("div",{staticClass:"permission"},[s("code",[e._v(e._s(e.node.permission))])]),s("div",{staticClass:"value",on:{click:function(t){return e.toggleValue(e.node)}}},[s("code",{class:{true:e.node.value}},[e._v(e._s(e.node.value))])]),s("div",{staticClass:"expiry"},[e.node.expiry?s("code",[e._v(e._s(e._f("moment")(e.node.expiry,"from")))]):s("code",{attrs:{disabled:""}},[e._v("never")])]),s("div",{staticClass:"server"},[e.node.server?s("code",[e._v(e._s(e.node.server))]):s("code",{attrs:{disabled:""}},[e._v("global")])]),s("div",{staticClass:"world"},[e.node.world?s("code",[e._v(e._s(e.node.world))]):s("code",{attrs:{disabled:""}},[e._v("global")])]),s("div",{staticClass:"contexts"},[e.node.contexts?s("code",[e._v(e._s(e.node.contexts))]):s("code",{attrs:{disabled:""}},[e._v("none")])])])}),T=[],z={name:"Node",props:{node:Object},computed:{session:function(){return this.$store.getters.currentSession}},methods:{toggleValue:function(e){this.$store.commit("toggleNodeValue",e)}}},J=z,K=(s("8475"),Object(f["a"])(J,H,T,!1,null,null,null)),Y=K.exports,B=s("9b22"),F={name:"NodeList",components:{Node:Y},props:{nodes:Array},data:function(){return{sort:{method:null,desc:!0}}},computed:{sortedNodes:function(){var e=B(this.nodes,[this.sort.method]);return this.sort.desc?e:e.reverse()}},methods:{changeSort:function(e){this.sort.method==e?this.sort.desc=!this.sort.desc:this.sort.desc=!0,this.sort.method=e}}},U=F,q=(s("71b1"),Object(f["a"])(U,V,A,!1,null,null,null)),Q=q.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",on:{click:e.closeModal}},[s("div",{staticClass:"modal-box",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"close",on:{click:e.closeModal}},[s("font-awesome",{attrs:{icon:"times-circle"}})],1),"createGroup"==e.modal.type?s("CreateGroup",{attrs:{groups:e.modal.object}}):e._e()],1)])},X=[],Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",[e._v("Create a group")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"groupName"}},[e._v("Group name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.groupName,expression:"groupName"}],attrs:{type:"text",id:"groupName",autofocus:""},domProps:{value:e.groupName},on:{input:function(t){t.target.composing||(e.groupName=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"displayName"}},[e._v("Display name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.displayName,expression:"displayName"}],attrs:{type:"text",id:"displayName"},domProps:{value:e.displayName},on:{input:function(t){t.target.composing||(e.displayName=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"parent"}},[e._v("Parent")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.parent,expression:"parent"}],attrs:{name:"parent",id:"parent"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.parent=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"0"}},[e._v("None")]),e._l(e.groups,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("\n            "+e._s(t.who.friendly)+"\n          ")])})],2)])]),s("div",{staticClass:"col"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"weight"}},[e._v("Weight")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.weight,expression:"weight"}],attrs:{type:"number",id:"weight"},domProps:{value:e.weight},on:{input:function(t){t.target.composing||(e.weight=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"prefix"}},[e._v("Prefix")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.prefix,expression:"prefix"}],attrs:{type:"text",id:"prefix"},domProps:{value:e.prefix},on:{input:function(t){t.target.composing||(e.prefix=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"suffix"}},[e._v("Suffix")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.suffix,expression:"suffix"}],attrs:{type:"text",id:"suffix"},domProps:{value:e.suffix},on:{input:function(t){t.target.composing||(e.suffix=t.target.value)}}})])])]),s("button",{attrs:{type:"button"}},[s("font-awesome",{attrs:{icon:"plus-circle"}}),e._v("\n    Add group\n  ")],1)])},ee=[],te={name:"CreateGroup",data:function(){return{groupName:"",displayName:"",weight:0,parent:0,prefix:"",suffix:""}},props:{groups:Array},computed:{},methods:{}},se=te,ne=Object(f["a"])(se,Z,ee,!1,null,null,null),oe=ne.exports,re={name:"Modal",components:{CreateGroup:oe},props:{modal:Object},computed:{sortedNodes:function(){}},methods:{closeModal:function(){this.$store.commit("setModal",{type:null,object:null})}}},ie=re,ae=(s("455f"),Object(f["a"])(ie,R,X,!1,null,null,null)),ce=ae.exports,ue={name:"Editor",components:{Header:$,Meta:I,NodeList:Q,Modal:ce},data:function(){return{sessionId:""}},computed:{sessions:function(){return this.$store.getters.sessionSet},groups:function(){return this.sessions.filter(function(e){return 0==e.who.id.indexOf("group")})},users:function(){return this.sessions.filter(function(e){return 0==e.who.id.indexOf("user")})},currentSession:function(){return this.$store.getters.currentSession||null},currentNodes:function(){return this.$store.getters.currentNodes||null},currentSessionData:function(){if(this.currentNodes.length){var e={};return 0==this.currentSession.who.id.indexOf("group")?e.type="group":0==this.currentSession.who.id.indexOf("user")?e.type="user":e.type=null,e.parents=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("group")}),e.displayname=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("displayname")}),e.weight=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("weight")}),e.prefixes=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("prefix")}),e.suffixes=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("suffix")}),e.meta=this.currentNodes.filter(function(e){return 0==e.permission.indexOf("meta")}),e}return null},modal:function(){return this.$store.state.editor.modal}},created:function(){this.$route.params.id&&(this.sessionId=this.$route.params.id,this.$store.dispatch("getEditorData",this.sessionId))},methods:{changeCurrentSession:function(e){this.$store.commit("setCurrentSession",e)},displayGroupName:function(e){var t=e.who.friendly,s=e.who.id.split("/").pop();return t!=s?s:null},createGroup:function(){this.$store.commit("setModal",{type:"createGroup",object:this.groups})}}},le=ue,de=(s("b395"),Object(f["a"])(le,N,S,!1,null,null,null)),pe=de.exports;n["a"].use(g["a"]);var fe=new g["a"]({routes:[{path:"/",name:"home",component:C},{path:"/editor",name:"editor-home",component:pe},{path:"/editor/:id",name:"editor",component:pe}]});n["a"].use(o["a"]),n["a"].config.productionTip=!1,r["c"].add(a["d"],a["f"],a["c"],a["b"],a["e"],a["a"]),n["a"].component("font-awesome",i["a"]),n["a"].use(s("2ead")),new n["a"]({router:fe,store:l,render:function(e){return e(h)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var n=s("5e27"),o=s.n(n);o.a},"5e27":function(e,t,s){},"6f13":function(e,t,s){},"70b1":function(e,t,s){},"71b1":function(e,t,s){"use strict";var n=s("6f13"),o=s.n(n);o.a},8475:function(e,t,s){"use strict";var n=s("9225"),o=s.n(n);o.a},9225:function(e,t,s){},b395:function(e,t,s){"use strict";var n=s("70b1"),o=s.n(n);o.a},b9f5:function(e,t,s){"use strict";var n=s("3773"),o=s.n(n);o.a},cf05:function(e,t,s){e.exports=s.p+"img/logo.bd59d771.png"},ea97:function(e,t,s){}});
//# sourceMappingURL=app.3f9859d3.js.map